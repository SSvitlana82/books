import{r as e,c as L,b as c,p as h,m as f,s as w}from"./assets/render-functions-e29f07a1.js";import{a as i}from"./assets/vendor-0cb09735.js";e.boorgerMenuBtn.addEventListener("click",b);function b(t){e.boorgerMenuBackdrop.classList.remove("hidden")}console.log("hello");const a="https://books-backend.p.goit.global/books";async function T(){const t=`${a}/category-list`;return(await i.get(t)).data}async function y(){const t=`${a}/top-books`;return(await i.get(t)).data}async function l(t){t=t.trim();const o={category:t},n=`${a}/category`;return(await i.get(n,{params:o})).data}async function d(t){t=t.trim();const o=`${a}/${t}`;return(await i.get(o)).data}e.categoryList.addEventListener("click",S);T().then(t=>{t.unshift({list_name:"ALL CATEGORIES"});const o=L(t);console.log(o),e.categoryList.innerHTML=o});function S(t){if(console.log(t.target),console.log(t.currentTarget),t.target!==t.currentTarget){if(t.target.textContent==="ALL CATEGORIES"){u(),e.bookList.classList.remove("book-list-seemore");return}e.bookList.classList.add("book-list-seemore"),l(t.target.textContent).then(o=>{if(console.log(o),o.length===0)return alert("Noooooooo");const n=c(o);e.bookList.innerHTML=n})}}function u(){y().then(t=>{if(t.length===0)return alert("Noooooooo");console.log(t);const o=h(t);e.bookList.innerHTML=o})}u();e.modal.shopListBtn.addEventListener("click",B);const s=JSON.parse(localStorage.getItem("shopListStorage"))||[];async function B(t){const o=t.target.getAttribute("data-id"),n=s.some(r=>r._id===o);if(console.log(n),n===!1){const r=await d(o);s.push(r),localStorage.setItem("shopListStorage",JSON.stringify(s))}else{const r=s.findIndex(k=>k._id===o);s.splice(r,1),localStorage.setItem("shopListStorage",JSON.stringify(s))}g(o)}function g(t){const o=s.some(n=>n._id===t);console.log(o),o===!1?(e.modal.shopListBtn.textContent="ADD TO SHOPPING LIST",e.modal.message.classList.add("hidden")):(e.modal.shopListBtn.textContent="remove",e.modal.message.classList.remove("hidden"))}async function M(t){const o=await d(t),n=f(o);e.modal.content.innerHTML=n,E(),g(t),e.modal.shopListBtn.setAttribute("data-id",t)}function E(){e.modal.mainBackdrop.classList.remove("hidden"),document.body.classList.add("hide-scroll"),window.addEventListener("keydown",p)}function m(){e.modal.mainBackdrop.classList.add("hidden"),document.body.classList.remove("hide-scroll"),window.removeEventListener("keydown",p)}e.modal.mainBackdrop.addEventListener("click",C);console.log("hello");function C(t){if(t.target===t.currentTarget){m();return}}function p(t){if(console.log(t),t.code==="Escape"){m();return}}e.bookList.addEventListener("click",I);function I(t){t.target.nodeName==="BUTTON"&&(e.bookList.classList.add("book-list-seemore"),l(t.target.dataset.top).then(o=>{if(o.length===0)return alert("Noooooooo");const n=c(o);e.bookList.innerHTML=n}))}e.bookList.addEventListener("click",N);function N(t){if(t.tagret===t.currentTarget||t.target.nodeName==="BUTTON")return;const n=t.target.closest(".book-item").dataset.id;M(n)}const v=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"icon-ukraine"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"icon-ukraine"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"icon-ukraine"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"icon-ukraine"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"icon-ukraine"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"icon-ukraine"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"icon-ukraine"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"icon-ukraine"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"icon-user"}],O=w(v);e.donations.innerHTML=O;
//# sourceMappingURL=commonHelpers.js.map
