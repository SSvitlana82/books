{"version":3,"file":"commonHelpers.js","sources":["../src/js/modules/refs.js","../src/js/header.js","../src/js/modules/books-api.js","../src/js/modules/render-functions.js","../src/js/categories.js","../src/js/book-list.js"],"sourcesContent":["export const refs = {\n  /* \n  donations: document.querySelector(), */\n  boorgerMenuBtn: document.querySelector('.btn-burger-menu'),\n  boorgerMenuBackdrop: document.querySelector('.js-header-backdrop'),\n  categoryList: document.querySelector('.js-category-list'),\n  bookList: document.querySelector('.js-book-list'),\n  /* themeBtn: document.querySelector(), */\n};\n","import { refs } from './modules/refs';\nrefs.boorgerMenuBtn.addEventListener('click', onBoorgerMenuBtnClick);\nfunction onBoorgerMenuBtnClick(e) {\n  refs.boorgerMenuBackdrop.classList.remove('hidden');\n}\nconsole.log('hello');\n","import axios from 'axios';\nconst BASE = 'https://books-backend.p.goit.global/books';\n\nexport async function getCategories() {\n  const URL = `${BASE}/category-list`;\n  const response = await axios.get(URL);\n  return response.data;\n}\nexport async function getPopularBooks() {\n  const URL = `${BASE}/top-books`;\n  const response = await axios.get(URL);\n  return response.data;\n}\nexport async function getBooksByCategory(selectedCategory) {\n  selectedCategory = selectedCategory.trim();\n  const params = { category: selectedCategory };\n  const URL = `${BASE}/category`;\n  const response = await axios.get(URL, { params });\n  return response.data;\n}\nexport async function getBookInfo(bookId) {\n  bookId = bookId.trim();\n  const URL = `${BASE}/${bookId}`;\n  const response = await axios.get(URL);\n  return response.data;\n}\n","function categoryTemplate(category) {\n  return `<li class=\"category-item\">${category.list_name}</li>`;\n}\nexport function categoriesTemplate(array) {\n  return array.map(categoryTemplate).join('');\n}\n\nfunction bookTemlate({ book_image, author, title }) {\n  return `<li>\n      <img src=\"${book_image}\" alt=\"bookname\" />\n      <h3>${title}</h3>\n      <p>${author}</p>\n    </li>`;\n}\nexport function booksTemplate(array) {\n  return array.map(bookTemlate).join('');\n}\n\nfunction popularCategoryTemplate(topCategory) {\n  return `<li class=\"popular-top-book\">\n      <h3>${topCategory.list_name}</h3>\n      <ul>\n         ${booksTemplate(topCategory.books)}\n      </ul>\n      <button data-top=\"${topCategory.list_name}\">SEE MORE</button>\n    </li>`;\n}\n\nexport function popularBooksTemplate(array) {\n  return array.map(popularCategoryTemplate).join('');\n}\n","import {\n  getCategories,\n  getBooksByCategory,\n  getPopularBooks,\n} from './modules/books-api';\nimport { refs } from './modules/refs';\nimport {\n  categoriesTemplate,\n  booksTemplate,\n  popularBooksTemplate,\n} from './modules/render-functions';\n\nrefs.categoryList.addEventListener('click', onCategoryClick);\ngetCategories().then(value => {\n  value.unshift({ list_name: 'ALL CATEGORIES' });\n  const markup = categoriesTemplate(value);\n  console.log(markup);\n  refs.categoryList.innerHTML = markup;\n});\n\nfunction onCategoryClick(e) {\n  console.log(e.target);\n  console.log(e.currentTarget);\n  if (e.target === e.currentTarget) {\n    return;\n  }\n  if (e.target.textContent === 'ALL CATEGORIES') {\n    renderTopBooks();\n    return;\n  }\n  getBooksByCategory(e.target.textContent).then(value => {\n    console.log(value);\n    if (value.length === 0) {\n      return alert('Noooooooo');\n    }\n    const markup = booksTemplate(value);\n    refs.bookList.innerHTML = markup;\n  });\n}\nfunction renderTopBooks() {\n  getPopularBooks().then(value => {\n    if (value.length === 0) {\n      return alert('Noooooooo');\n    }\n    console.log(value);\n    const markup = popularBooksTemplate(value);\n    refs.bookList.innerHTML = markup;\n  });\n}\nrenderTopBooks();\n","import { getBooksByCategory, getPopularBooks } from './modules/books-api';\nimport { refs } from './modules/refs';\nimport { booksTemplate } from './modules/render-functions';\n\nrefs.bookList.addEventListener('click', onBtnSeeMoreCLick);\nfunction onBtnSeeMoreCLick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  getBooksByCategory(e.target.dataset.top).then(value => {\n    if (value.length === 0) {\n      return alert('Noooooooo');\n    }\n    const markup = booksTemplate(value);\n    refs.bookList.innerHTML = markup;\n  });\n}\n"],"names":["refs","onBoorgerMenuBtnClick","e","BASE","getCategories","URL","axios","getPopularBooks","getBooksByCategory","selectedCategory","params","categoryTemplate","category","categoriesTemplate","array","bookTemlate","book_image","author","title","booksTemplate","popularCategoryTemplate","topCategory","popularBooksTemplate","onCategoryClick","value","markup","renderTopBooks","onBtnSeeMoreCLick"],"mappings":"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"}